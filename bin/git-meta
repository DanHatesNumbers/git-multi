#!/usr/bin/env ruby

$LOAD_PATH.unshift File.expand_path(File.join(File.dirname(__FILE__), '..', 'lib'))

require 'git/meta'
require 'slop'

options = Slop.parse do |o|
  o.on '-V', '--version', 'print the version of git-meta' do
    Git::Meta::Commands.version
  end
  o.on '-u', '--user', 'print the github user name' do
    Git::Meta::Commands.user
  end
  o.on '-t', '--token', 'print the github OAuth token' do
    Git::Meta::Commands.token
  end
  o.on '-C', '--check', 'checks that the OAuth token works' do
    Git::Meta::Commands.check
  end
  o.on '-f', '--files', 'prints the git-meta cache files' do
    Git::Meta::Commands.files
  end
  o.on '-l', '--list', 'prints the list of github repos' do
    Git::Meta::Commands.list
  end
  o.on '-m', '--missing', 'prints the list of missing local repos' do
    Git::Meta::Commands.missing
  end
  o.on '-c', '--clone', 'clones all missing repos from github' do
    Git::Meta::Commands.clone
  end
  o.on '-r', '--refresh', 'refresh the local repo cache from github' do
    Git::Meta::Commands.refresh
  end
end

# That's all, Folks
